<!--
  Assigned to Hemanth
 -->
 <mat-toolbar color="primary" class="mat-elevation-z10">
    <span class="title mat-title">
      <a routerLink="/dashboard">DRRS</a>
    </span>
    <span class="spacer"></span>
    <a mat-button routerLink="/dashboard" routerLinkActive="mat-stroked-button">Dashboard</a>
    <a mat-button routerLink="/reviewApplication" routerLinkActive="mat-stroked-button">Review Application</a>
    <a mat-button routerLink="/cop" routerLinkActive="mat-stroked-button">Common Operating Picture</a>
    <a mat-button (click)="onLogout()">Logout</a>
  </mat-toolbar>
<div class="container">
  <!-- Header for the Create Incident page -->
  <h1 class="pageHeading mat-display-1">Create Incident</h1>
  <hr>
</div>

<div class="createContainer">

  <!-- Form provided to input details for incident details -->
  <form novalidate (submit)="onCreate(createInc)" #createInc="ngForm">

    <div class="form-group">
      <label for="incidentName">
        <b>Incident Name</b>
      </label>
      <!-- Input for incident name -->
      <input type="text" class="form-control" [ngModel]="incident.incidentName" name="incidentName" #incidentName="ngModel"
        id="inputincidentName" placeholder="Enter incident" required>
      <!--
      incident name error block
      by Kishan
    -->
      <!-- Input validation for incident name-->
      <div *ngIf="(incidentName.invalid && ( incidentName.touched || incidentName.dirty)) || isSubmitted" class="col-sm-7 text-danger">
        <div *ngIf="incidentName.errors?.required" class="mat-body-1">
          Please enter the incident Name
        </div>
      </div>

      <label for="location">
        <b>Location</b>
      </label>
      <!-- Input field for location name -->
      <input type="text" class="form-control" [ngModel]="incident.location" name="location" location #location="ngModel"
        id="inputlocation" placeholder="Enter location" required>
      <!--
      location error block
      by Kishan
    -->
      <!-- Input validation for location -->
      <div *ngIf="(location.invalid && ( location.touched || location.dirty)) || isSubmitted" class="col-sm-6 text-danger">
        <div *ngIf="location.errors?.required" class="mat-body-1">
          Please enter the location
        </div>
      </div>

      <!-- Select date block -->
      <label for="date">
        <b>Date</b>
      </label>
      <input type="text" class="form-control" [ngModel]="incident.date" name="date" #date="ngModel" id="inputdate"
        value="incident.date" disabled>
      <!--
      date error block
      by Kishan
    -->
      <!-- Validtion for date block -->
      <!-- <div *ngIf="(date.invalid && ( date.touched || date.dirty)) || isSubmitted" class="col-sm-6 text-danger">
      <div *ngIf="date.errors?.required">
        Please enter the date
      </div>
    </div> -->

      <!-- Select time block -->
      <label for="time">
        <b>Time</b>
      </label>
      <input type="text" class="form-control" [ngModel]="incident.time" name="time" #time="ngModel" id="inputtime"
        value="incident.date" disabled>
      <!--
      time error block
      by Kishan
    -->
      <!-- Validation for time block -->
      <!-- <div *ngIf="(time.invalid && ( time.touched || time.dirty)) || isSubmitted" class="col-sm-6 text-danger">
      <div *ngIf="time.errors?.required">
        Please enter the time
      </div>
    </div> -->

      <label for="description">
        <b>Description</b>
      </label>
      <!-- Input field for description name -->
      <textarea type="text" class="form-control" [ngModel]="incident.description" name="description" description
        #description="ngModel" id="inputdescription" placeholder="Enter description" required></textarea>
      <!--
        description error block
        by Kishan
      -->
      <!-- Input validation for description -->
      <div *ngIf="(description.invalid && ( description.touched || description.dirty)) || isSubmitted" class="col-sm-7 text-danger">
        <div *ngIf="description.errors?.required" class="mat-body-1">
          Please enter the description
        </div>
      </div>
    </div>

    <!-- Button provided to Create Incident -->
    <div class="button-row">
      <button mat-raised-button color="primary" type="submit"> Create </button>
      <button mat-raised-button color="warn" routerLink="/dashboard"> Cancel </button>
    </div>
  </form>
</div>
